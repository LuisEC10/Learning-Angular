<div class="cart">
    <div class="cart-content">
      <div class="cart-header">
        <h5 class="cart-title">Form {{(user.id > 0) ? 'Update' : 'Create'}} User</h5>
      </div>
      <div class="cart-body">
          <form (ngSubmit)="onSubmit(userForm)" #userForm="ngForm">
              <div>
                  <input 
                  placeholder="Name"
                  name="name"
                  [(ngModel)] = "user.name"
                  class="form-control my-2"
                  required
                  #name="ngModel"
                  >
                  @if (name.invalid && (name.dirty || name.touched)) {
                      @if (name.errors!['required']) {
                          <div class="text-danger">
                              Nombre es requerido
                          </div>
                      }
                  }
              </div>
              <div>
                  <input 
                  placeholder="Lastname"
                  name="lastname"
                  [(ngModel)] = "user.lastname"
                  class="form-control my-2"
                  required
                  #lastname="ngModel">
                  @if (lastname.invalid && (lastname.dirty || lastname.touched)) {
                      @if (lastname.errors!['required']) {
                          <div class="text-danger">
                              Lastname es requerido
                          </div>
                      }
                  }
              </div>
              <div>
                  <input 
                  placeholder="Email"
                  name="email"
                  [(ngModel)] = "user.email"
                  class="form-control my-2"
                  type="email"
                  required
                  #email="ngModel">
                  @if (email.invalid && (email.dirty || email.touched)) {
                      @if (email.errors!['required']) {
                          <div class="text-danger">
                              Email es requerido
                          </div>
                      }
                      @if (email.errors!['email']) {
                          <div class="text-danger">
                              Email no tiene el formato correcto
                          </div>
                      }
                  }
              </div>
              <div>
                  <input 
                  placeholder="Username"
                  name="username"
                  [(ngModel)] = "user.username"
                  class="form-control my-2"
                  required
                  minlength="8"
                  #username="ngModel">
                  @if (username.invalid && (username.dirty || username.touched)) {
                      @if (username.errors!['required']) {
                          <div class="text-danger">
                              Username es requerido
                          </div>
                      }
                      @if (username.errors!['minlength']) {
                          <div class="text-danger">
                              Username debe tener al menos 8 caracteres
                          </div>
                      }
                  }
              </div>
              <div>
                  <input 
                  placeholder="Password"
                  type="password"
                  name="password"
                  [(ngModel)] = "user.password"
                  class="form-control my-2"
                  required
                  minlength="6"
                  #password="ngModel">
                  @if (password.invalid && (password.dirty || password.touched)) {
                      @if (password.errors!['required']) {
                          <div class="text-danger">
                              Password es requerido
                          </div>
                      }
                      @if (password.errors!['minlength']) {
                          <div class="text-danger">
                              Password debe tener al menos 6 caracteres
                          </div>
                      }
                  }
              </div>
              <div>
                  <button type="submit" class="btn btn-primary my-2"
                  [disabled]="userForm.invalid">
                      {{(user.id > 0) ? 'Update' : 'Create'}}
                  </button>
                  <button type="button" class="btn btn-secondary m-2"
                  (click)="onClaer(userForm)">
                      Clear
                  </button>
              </div>
          </form>
      </div>
    </div>
</div>
